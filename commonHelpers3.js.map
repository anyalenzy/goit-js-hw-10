{"version":3,"file":"commonHelpers3.js","sources":["../src/js/1-timer.js","../src/js/2-snackbar.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport iziToast from 'izitoast';\n\nconst startBtn = document.querySelector('[data-start]'),\n  dataDays = document.querySelector('span[data-days]'),\n  dataHours = document.querySelector('span[data-hours]'),\n  dataMinutes = document.querySelector('span[data-minutes]'),\n  dataSeconds = document.querySelector('span[data-seconds]');\n\nstartBtn.disabled = true;\n\nlet userSelectedDate;\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    if (selectedDates[0] > new Date()) {\n      userSelectedDate = selectedDates[0];\n      startBtn.disabled = false;\n    } else {\n      iziToast.show({\n        icon: 'icon-error',\n        backgroundColor: '#FC5A5A',\n        message: 'Please choose a date in the future',\n        messageColor: '#FAFAFB',\n        messageSize: '16px',\n        position: 'topCenter',\n        close: false,\n      });\n      startBtn.disabled = true;\n    }\n  },\n};\nflatpickr('#datetime-picker', options);\n\nstartBtn.addEventListener('click', event => {\n  const timer = setInterval(() => {\n    startBtn.disabled = true;\n    const timeDiff = userSelectedDate - Date.now();\n    const timerDate = convertMs(timeDiff);\n    if (timeDiff <= 0) {\n      clearInterval(timer);\n    } else {\n      dataDays.textContent = addLeadingZero(timerDate.days);\n      dataHours.textContent = addLeadingZero(timerDate.hours);\n      dataMinutes.textContent = addLeadingZero(timerDate.minutes);\n      dataSeconds.textContent = addLeadingZero(timerDate.seconds);\n    }\n  }, 1000);\n});\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\nfunction addLeadingZero(value) {\n  let time = String(value);\n  if (time.length < 2) {\n    return time.padStart(2, '0');\n  } else {\n    return time;\n  }\n}\n","import iziToast from 'izitoast';\n\nconst form = document.querySelector('.form');\n\nconst errorMsg = delay =>\n  iziToast.show({\n    icon: 'icon-error',\n    backgroundColor: '#EF4040',\n    message: `Rejected promise in ${delay}ms`,\n    messageColor: '#FAFAFB',\n    messageSize: '16px',\n    position: 'topCenter',\n    close: false,\n  });\n\nconst correctMsg = delay =>\n  iziToast.show({\n    icon: 'icon-true',\n    backgroundColor: '#59A10D',\n    message: `Fulfilled promise in ${delay}ms`,\n    messageColor: '#FAFAFB',\n    messageSize: '16px',\n    position: 'topCenter',\n    close: false,\n  });\n\nform.addEventListener('submit', evt => {\n  evt.preventDefault();\n  const delay = form.elements.delay.value;\n  const state = form.elements.state.value;\n  const makePromise = () => {\n    return new Promise((resolve, reject) => {\n      setTimeout(() => {\n        if (state === 'fulfilled') {\n          resolve();\n        } else if (state === 'rejected') {\n          reject();\n        }\n      }, delay);\n    });\n  };\n  makePromise()\n    .then(value => correctMsg(delay))\n    .catch(error => errorMsg(delay));\n});\n"],"names":["startBtn","dataDays","dataHours","dataMinutes","dataSeconds","userSelectedDate","options","selectedDates","iziToast","flatpickr","event","timer","timeDiff","timerDate","convertMs","addLeadingZero","ms","days","hours","minutes","seconds","value","time","form","errorMsg","delay","correctMsg","evt","state","resolve","reject","error"],"mappings":"6vBAGA,MAAMA,EAAW,SAAS,cAAc,cAAc,EACpDC,EAAW,SAAS,cAAc,iBAAiB,EACnDC,EAAY,SAAS,cAAc,kBAAkB,EACrDC,EAAc,SAAS,cAAc,oBAAoB,EACzDC,EAAc,SAAS,cAAc,oBAAoB,EAE3DJ,EAAS,SAAW,GAEpB,IAAIK,EAEJ,MAAMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACjBA,EAAc,GAAK,IAAI,MACzBF,EAAmBE,EAAc,GACjCP,EAAS,SAAW,KAEpBQ,EAAS,KAAK,CACZ,KAAM,aACN,gBAAiB,UACjB,QAAS,qCACT,aAAc,UACd,YAAa,OACb,SAAU,YACV,MAAO,EACf,CAAO,EACDR,EAAS,SAAW,GAEvB,CACH,EACAS,EAAU,mBAAoBH,CAAO,EAErCN,EAAS,iBAAiB,QAASU,GAAS,CAC1C,MAAMC,EAAQ,YAAY,IAAM,CAC9BX,EAAS,SAAW,GACpB,MAAMY,EAAWP,EAAmB,KAAK,IAAG,EACtCQ,EAAYC,EAAUF,CAAQ,EAChCA,GAAY,EACd,cAAcD,CAAK,GAEnBV,EAAS,YAAcc,EAAeF,EAAU,IAAI,EACpDX,EAAU,YAAca,EAAeF,EAAU,KAAK,EACtDV,EAAY,YAAcY,EAAeF,EAAU,OAAO,EAC1DT,EAAY,YAAcW,EAAeF,EAAU,OAAO,EAE7D,EAAE,GAAI,CACT,CAAC,EAED,SAASC,EAAUE,EAAI,CAQrB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAE1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EAEpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EAEjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAEA,SAASL,EAAeM,EAAO,CAC7B,IAAIC,EAAO,OAAOD,CAAK,EACvB,OAAIC,EAAK,OAAS,EACTA,EAAK,SAAS,EAAG,GAAG,EAEpBA,CAEX,CC9EA,MAAMC,EAAO,SAAS,cAAc,OAAO,EAErCC,EAAWC,GACfjB,EAAS,KAAK,CACZ,KAAM,aACN,gBAAiB,UACjB,QAAS,uBAAuBiB,MAChC,aAAc,UACd,YAAa,OACb,SAAU,YACV,MAAO,EACX,CAAG,EAEGC,EAAaD,GACjBjB,EAAS,KAAK,CACZ,KAAM,YACN,gBAAiB,UACjB,QAAS,wBAAwBiB,MACjC,aAAc,UACd,YAAa,OACb,SAAU,YACV,MAAO,EACX,CAAG,EAEHF,EAAK,iBAAiB,SAAUI,GAAO,CACrCA,EAAI,eAAc,EAClB,MAAMF,EAAQF,EAAK,SAAS,MAAM,MAC5BK,EAAQL,EAAK,SAAS,MAAM,OACd,IACX,IAAI,QAAQ,CAACM,EAASC,IAAW,CACtC,WAAW,IAAM,CACXF,IAAU,YACZC,IACSD,IAAU,YACnBE,GAEH,EAAEL,CAAK,CACd,CAAK,GAEU,EACV,KAAKJ,GAASK,EAAWD,CAAK,CAAC,EAC/B,MAAMM,GAASP,EAASC,CAAK,CAAC,CACnC,CAAC"}